[gd_scene load_steps=63 format=3 uid="uid://dcuo5nbs4ymn0"]

[ext_resource type="Script" path="res://Scripts/player.gd" id="1_exfxt"]
[ext_resource type="Texture2D" uid="uid://dm2bgnx2q7hfm" path="res://Assets/PlayerSprites/magef_side_back_idle.png" id="2_p13y0"]
[ext_resource type="Texture2D" uid="uid://bcxrw1xbgn0u2" path="res://Assets/PlayerSprites/Mage-Idle-Walk.png" id="3_3fbto"]
[ext_resource type="Texture2D" uid="uid://doqw0mwc4c7r" path="res://Assets/PlayerSprites/magef_fron_idle3.png" id="4_gf75g"]
[ext_resource type="Texture2D" uid="uid://d1keehylnltcj" path="res://Assets/Attacks/SPRITESHEET_Files/MagicBarrier_64x64.png" id="5_r08uy"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dqeuh"]
size = Vector2(15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_nctt5"]
atlas = ExtResource("3_3fbto")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5sulo"]
atlas = ExtResource("3_3fbto")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_xxn6p"]
atlas = ExtResource("2_p13y0")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_chr46"]
atlas = ExtResource("2_p13y0")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_l0shc"]
atlas = ExtResource("2_p13y0")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g27xb"]
atlas = ExtResource("2_p13y0")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h3p6g"]
atlas = ExtResource("3_3fbto")
region = Rect2(0, 93, 31, 31)

[sub_resource type="AtlasTexture" id="AtlasTexture_c18m0"]
atlas = ExtResource("3_3fbto")
region = Rect2(62, 93, 31, 31)

[sub_resource type="AtlasTexture" id="AtlasTexture_b6fpa"]
atlas = ExtResource("4_gf75g")
region = Rect2(4, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ct8fj"]
atlas = ExtResource("4_gf75g")
region = Rect2(35, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_un7ii"]
atlas = ExtResource("4_gf75g")
region = Rect2(65, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bbnc1"]
atlas = ExtResource("3_3fbto")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ki8n"]
atlas = ExtResource("3_3fbto")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_arky5"]
atlas = ExtResource("2_p13y0")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_gbg43"]
atlas = ExtResource("2_p13y0")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_q1n08"]
atlas = ExtResource("2_p13y0")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tfp8l"]
atlas = ExtResource("2_p13y0")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_n03bk"]
atlas = ExtResource("3_3fbto")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_u78ha"]
atlas = ExtResource("3_3fbto")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tor3h"]
atlas = ExtResource("3_3fbto")
region = Rect2(32, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_1i82l"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nctt5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5sulo")
}],
"loop": true,
"name": &"attack_orb",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xxn6p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_chr46")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l0shc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g27xb")
}],
"loop": true,
"name": &"back_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h3p6g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c18m0")
}],
"loop": true,
"name": &"back_walk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.5,
"texture": SubResource("AtlasTexture_b6fpa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ct8fj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_un7ii")
}],
"loop": true,
"name": &"front_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bbnc1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7ki8n")
}],
"loop": true,
"name": &"front_walk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.5,
"texture": SubResource("AtlasTexture_arky5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gbg43")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q1n08")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tfp8l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tfp8l")
}],
"loop": true,
"name": &"side_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_n03bk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u78ha")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tor3h")
}],
"loop": true,
"name": &"side_walk",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_oihlu"]
atlas = ExtResource("5_r08uy")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_o0prg"]
atlas = ExtResource("5_r08uy")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uyow3"]
atlas = ExtResource("5_r08uy")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_l02iy"]
atlas = ExtResource("5_r08uy")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_sk5t6"]
atlas = ExtResource("5_r08uy")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gag1q"]
atlas = ExtResource("5_r08uy")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jac63"]
atlas = ExtResource("5_r08uy")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_abyan"]
atlas = ExtResource("5_r08uy")
region = Rect2(448, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_nuog5"]
atlas = ExtResource("5_r08uy")
region = Rect2(512, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_yajva"]
atlas = ExtResource("5_r08uy")
region = Rect2(576, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jlsa3"]
atlas = ExtResource("5_r08uy")
region = Rect2(640, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_3bmls"]
atlas = ExtResource("5_r08uy")
region = Rect2(704, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qg2ux"]
atlas = ExtResource("5_r08uy")
region = Rect2(768, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_aitif"]
atlas = ExtResource("5_r08uy")
region = Rect2(832, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_yyd47"]
atlas = ExtResource("5_r08uy")
region = Rect2(896, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_lscf2"]
atlas = ExtResource("5_r08uy")
region = Rect2(960, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_llguk"]
atlas = ExtResource("5_r08uy")
region = Rect2(1024, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_t1fg0"]
atlas = ExtResource("5_r08uy")
region = Rect2(1088, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dhlee"]
atlas = ExtResource("5_r08uy")
region = Rect2(1152, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_xt4l6"]
atlas = ExtResource("5_r08uy")
region = Rect2(1216, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fc7aa"]
atlas = ExtResource("5_r08uy")
region = Rect2(1280, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_o5wkx"]
atlas = ExtResource("5_r08uy")
region = Rect2(1344, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rltpf"]
atlas = ExtResource("5_r08uy")
region = Rect2(1408, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_61b02"]
atlas = ExtResource("5_r08uy")
region = Rect2(1472, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_62c0r"]
atlas = ExtResource("5_r08uy")
region = Rect2(1536, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hhhbx"]
atlas = ExtResource("5_r08uy")
region = Rect2(1600, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0ohrh"]
atlas = ExtResource("5_r08uy")
region = Rect2(1664, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rvxou"]
atlas = ExtResource("5_r08uy")
region = Rect2(1728, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bbrfn"]
atlas = ExtResource("5_r08uy")
region = Rect2(1792, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_c2rpw"]
atlas = ExtResource("5_r08uy")
region = Rect2(1856, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dnegl"]
atlas = ExtResource("5_r08uy")
region = Rect2(1920, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_pank2"]
atlas = ExtResource("5_r08uy")
region = Rect2(1984, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_a5bls"]
atlas = ExtResource("5_r08uy")
region = Rect2(2048, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_fe522"]
animations = [{
"frames": [],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_oihlu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o0prg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uyow3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l02iy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sk5t6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gag1q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jac63")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_abyan")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nuog5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yajva")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jlsa3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3bmls")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qg2ux")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aitif")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yyd47")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lscf2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_llguk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t1fg0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dhlee")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xt4l6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fc7aa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o5wkx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rltpf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_61b02")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_62c0r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hhhbx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0ohrh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rvxou")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bbrfn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c2rpw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnegl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pank2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a5bls")
}],
"loop": false,
"name": &"orb_blast",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_hfkkj"]
radius = 17.0294

[node name="player" type="CharacterBody2D"]
collision_layer = 3
script = ExtResource("1_exfxt")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-2.5, -1)
shape = SubResource("RectangleShape2D_dqeuh")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
y_sort_enabled = true
sprite_frames = SubResource("SpriteFrames_1i82l")
animation = &"attack_orb"
frame_progress = 0.866936
offset = Vector2(0, -10)

[node name="Camera2D" type="Camera2D" parent="AnimatedSprite2D"]

[node name="MageBlast" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_fe522")
animation = &"orb_blast"
frame = 32
frame_progress = 1.0
speed_scale = 10.0

[node name="player_hitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="player_hitbox"]
position = Vector2(-2, -8)
shape = SubResource("CircleShape2D_hfkkj")

[node name="attack_cooldown" type="Timer" parent="."]
wait_time = 0.5

[node name="deal_attack_timer" type="Timer" parent="."]
wait_time = 0.5

[connection signal="body_entered" from="player_hitbox" to="." method="_on_player_hitbox_body_entered"]
[connection signal="body_exited" from="player_hitbox" to="." method="_on_player_hitbox_body_exited"]
[connection signal="timeout" from="attack_cooldown" to="." method="_on_attack_cooldown_timeout"]
[connection signal="timeout" from="deal_attack_timer" to="." method="_on_deal_attack_timer_timeout"]
